<% title = 'Employee List' %>
<%- include('navbar') %>

<h1 style="text-align: center; color: #333; margin-bottom: 20px;">Employee List</h1>

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
  <form action="/CreateEmployee">
    <button>Create Employee</button>
  </form>

  <!-- Search Bar -->
  <form action="/searchEmployee" method="GET" style="display: flex; align-items: center;">
    <input 
      type="text" 
      name="query" 
      placeholder="Search by Name, Email, or Designation" 
      style="padding: 5px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px; width: 200px;">
    <button 
      type="submit" 
      style="margin-left: 10px; padding: 5px 10px; font-size: 14px; background-color: #007BFF; color: white; border: none; border-radius: 5px;">
      Search
    </button>
  </form>
</div>

<% if (data.length > 0) { %>
  <table style="width: 100%; border-collapse: collapse; margin: 20px auto; font-family: Arial, sans-serif;">
    <thead>
      <tr style="background-color: #f2f2f2; text-align: left;">
        <th style="border: 1px solid #ccc; padding: 10px;">Unique ID</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Image</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Name</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Email</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Mobile No</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Designation</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Gender</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Course</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Create Date</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Action</th>
        <th style="border: 1px solid #ccc; padding: 10px;">Delete</th>
      </tr>
    </thead>
    <tbody>
      <% data.forEach(employee => { %>
        <tr style="background-color: <%= data.indexOf(employee) % 2 === 0 ? '#ffffff' : '#f9f9f9' %>;">
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee._id %></td>
          <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">
            <img src="<%= employee.f_image.replace("\\", "/") %>" alt="Employee Image" style="width: 50px; height: 50px; border-radius: 50%;">
          </td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_name %></td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_email %></td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_Mobile %></td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_Designation %></td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_gender %></td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_course %></td>
          <td style="border: 1px solid #ccc; padding: 10px;"><%= employee.f_createdate %></td>
          <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">
            <a href="edit/<%= employee._id %>" style="color: white; background-color: #4CAF50; padding: 5px 10px; text-decoration: none; border-radius: 5px;">Edit</a>
          </td>
          <td style="border: 1px solid #ccc; padding: 10px; text-align: center;">
            <a href="delete/<%= employee._id %>" style="color: white; background-color: #4CAF50; padding: 5px 10px; text-decoration: none; border-radius: 5px;">Delete</a>
          </td>
        </tr>
      <% }); %>
    </tbody>
  </table>
<% } else { %>
  <p style="text-align: center; color: #888;">No Employees found.</p>
<% } %>
